<!DOCTYPE html>

<html>
    <head>
        <!-- MENÚ -->
        <script src="../../js/jquery.js"></script> 
        <script src="../../js/loadhtml.js"></script>
        <div data-include="../../user/user-menu.html"></div>
        <br>
        <div data-include="../../user/cc-menu.html"></div>
        <!-- FIN MENÚ -->
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <link rel="stylesheet" href="/css/reset.css" type="text/css">
        <link rel="stylesheet" href="/css/summary.css" type="text/css">
        <link rel="stylesheet" href="/css/ccount.css" type="text/css">
        <script src="/js/getLang.js"></script>
        <script src="/js/cccreate.js"></script>
        <script src="/js/getFromURL.js"></script>
    </head>
    <body onload="verifyInput('kindcc',['Vista','Corriente'],'save')">
        
        <div id="accounttype">
            <form id="newCc" action="#" onsubmit="addButton('ccName');setvisible(['accounttype','interestForm'],[],false);return false">
                <div class="minform" id="upform">
                    <label id="ccNameLabel" for="ccName">Nombre de la cuenta</label>
                    <input type="text" id="ccName" required minlength="2">
                    <label id="kindccLabel" for="kindcc">Tipo de cuenta</label>
                    <select class="selectkind" id="kindcc" onchange="onblockshow(['interestForm'],['100px'],verifyInput('kindcc',['Vista','Corriente'],'save'),'reajuste')">
                        <option value=""></option>
                        <option value="Vista">Vista</option>
                        <option value="Corriente">Corriente</option>
                        <option value="Ahorro">Ahorro</option>
                    </select>
                </div>

                <div class="midform" id="interestForm">
                    <label class="interest" id="reajusteLabel for="factor">Reajuste (%)</label>
                    <input class="interest" type="number" onchange="verifyInput('reajuste',[''],'save',false)" id="reajuste" min="0" max="100" minlength="0">
                </div>

                <input type="submit" id="save" value="GUARDAR" onclick="postReqCC('ccName','kindcc','reajuste')">
                <input type="button" id="cancel" value="CANCELAR" onclick="setvisible(['accounttype','interestForm'],[],false)">
            </form>
        </div>

        <!--RESUMEN DE movimientos-->
        <div class="reader" id="count-reader">
            <div class="mvtableclass" id="ccMoves">
            </div>
        </div>

        <div id="menu">
            <ul id="mini">
                <li><a id="addmv" href="#" onclick="setvisible(['addMove','savemv'],['300px','40px'],true);setvisible(['editmv'],[],false);cleanForm(['ccMove','ccHowMuch'])"></a></li>
            </ul>   
        </div>

        <div id="addMove">
            <form id="newMove" action="#" onsubmit="setvisible(['addMove',],[],false);return false">
                <div class="minform" id="mvform">
                    <label id="ccMoveLabel" for="ccMove">Nombre del movimiento</label>
                    <input type="text" id="ccMove" required minlength="1">
                    <label id="ccHowMuchLabel" for="ccHowMuch">Cantidad</label>
                    <input type="number" id="ccHowMuch" required minlength="1">
                </div>
                <div class="option">
                    <input type="submit" id="savemv" value="Agregar" onclick="postReqNewMove(cc,'ccMove','ccHowMuch')">
                    <input type="submit" id="editmv" value="Guardar" onclick="postReqEditMove(cc,'ccMove','ccHowMuch',currEdit)">
                    <input type="button" id="cancelmv" value="Cancelar" onclick="setvisible(['addMove','editmv','savemv'],[],false)">
                    <input type="button" id="delmv" value="Eliminar" onclick="delReqMove(currEdit)">
                </div>
            </form>
        </div>

        <div id="graphmv">

        </div>

        <script>
            getMenu(lang,"user",8,"addmv");
            setCCMoves(cc);
            if(document.readyState){
                reqChartDataMv(Highcharts,cc);

                //tkn=reqNewToken(tkn);
            }
        </script>
    </body>
</html>